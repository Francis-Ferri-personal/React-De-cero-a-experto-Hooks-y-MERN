{"version":3,"sources":["types/types.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","helpers/fetch.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","components/ui/NavBar.js","actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PrivateRoute.js","router/PublicRoute.js","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","checking","events","activeEvent","modalOpen","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","e","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","baseURL","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","prepareEvents","end","moment","toDate","start","eventAddNew","event","eventClearActiveEvent","eventUpdated","enventDeleted","eventLoaded","checkingFininsh","login","user","startLogout","dispatch","clear","logout","useForm","useState","values","setValues","reset","handleInputChange","target","name","value","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword1","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","NavBar","useSelector","onClick","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","console","log","trim","length","getState","evento","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","bgcolor","onView","onSelectSlot","selectable","view","components","PrivateRoute","isAutenticated","Component","component","rest","props","to","PublicRoute","AppRouter","exact","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.810d5d7c.chunk.js","sourcesContent":["export const types = {\r\n\tuiOpenModal: \"[ui] Open modal\",\r\n\tuiCloseModal: \"[ui] Close modal\",\r\n\r\n\teventSetActive: \"[event] Set active\",\r\n\teventLogout: \"[event] Logout event\",\r\n\r\n\teventStartAddNew: \"[event] Star5t add new\",\r\n\teventAddNew: \"[event] Add new\",\r\n\teventClearActiveEvent: \"[event] Clear active event\",\r\n\teventUpdated: \"[event] Event Updated\",\r\n\teventDeleted: \"[event] Event Deleted\",\r\n\teventLoaded: \"[event] Events loaded\",\r\n\r\n\tauthCheckingFinish: \"[auth] Finish checking login state\",\r\n\tauthStartLogin: \"[auth] Start login\",\r\n\tauthLogin: \"[auth] Login\",\r\n\tauthStartRegister: \"[auth] Start Register\",\r\n\tauthStartTokenRenew: \"[auth] Start token renew\",\r\n\tauthLogout: \"[auth] Logout\"\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n\tchecking: true // Para verificar el estado del usurio al iniciar la app\r\n\t// uid: null\r\n\t// name: null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.authLogin:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tchecking: false\r\n\t\t\t};\r\n\t\tcase types.authCheckingFinish:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchecking: false\r\n\t\t\t};\r\n\t\tcase types.authLogout:\r\n\t\t\treturn {\r\n\t\t\t\tchecking: false\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\n/* \r\n{\r\n\tid: \"dsasdsdaa\",\r\n\ttitle: \"Cumpleaños del jefe\",\r\n\tstart: moment().toDate(), // New Date pero con moment\r\n\tend: moment().add(\"2\", \"hours\").toDate(),\r\n\tnotes: \"Comprar el pastel\",\r\n\tuser: {\r\n\t\t_id: \"123\",\r\n\t\tname: \"Francis\"\r\n\t}\r\n}\r\n*/\r\n\r\nconst initialState = {\r\n\tevents: [],\r\n\tactiveEvent: null\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.eventSetActive:\r\n\t\t\treturn { ...state, activeEvent: action.payload };\r\n\t\tcase types.eventAddNew:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: [...state.events, action.payload]\r\n\t\t\t};\r\n\t\tcase types.eventClearActiveEvent:\r\n\t\t\treturn { ...state, activeEvent: null };\r\n\t\tcase types.eventUpdated:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: state.events.map((e) =>\r\n\t\t\t\t\te.id === action.payload.id ? action.payload : e\r\n\t\t\t\t)\r\n\t\t\t};\r\n\t\tcase types.eventDeleted:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: state.events.filter((e) => e.id !== state.activeEvent.id),\r\n\t\t\t\tactiveEvent: null\r\n\t\t\t};\r\n\t\tcase types.eventLoaded:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: [...action.payload]\r\n\t\t\t};\r\n\t\tcase types.eventLogout:\r\n\t\t\treturn { ...initialState };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n\tmodalOpen: false\r\n};\r\nexport const uiReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.uiOpenModal:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmodalOpen: true\r\n\t\t\t};\r\n\t\tcase types.uiCloseModal:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmodalOpen: false\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { authReducer } from \"./authReducer\";\r\nimport { calendarReducer } from \"./calendarReducer\";\r\nimport { uiReducer } from \"./uiReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n\tui: uiReducer,\r\n\tcalendar: calendarReducer,\r\n\tauth: authReducer\r\n});\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\n\r\nconst composeEnhancers =\r\n\t(typeof window !== \"undefined\" &&\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n\tcompose;\r\n\r\nexport const store = createStore(\r\n\trootReducer,\r\n\tcomposeEnhancers(applyMiddleware(thunk))\r\n);\r\n","const baseURL = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchSinToken = (endpoint, data, method = \"GET\") => {\r\n\tconst url = `${baseURL}/${endpoint}`;\r\n\r\n\tif (method === \"GET\") {\r\n\t\treturn fetch(url);\r\n\t} else {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data)\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst fetchConToken = (endpoint, data, method = \"GET\") => {\r\n\tconst url = `${baseURL}/${endpoint}`;\r\n\tconst token = localStorage.getItem(\"token\") || \"\";\r\n\r\n\tif (method === \"GET\") {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t\"x-token\": token\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\t\"x-token\": token\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data)\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport { fetchSinToken, fetchConToken };\r\n","import moment from \"moment\";\r\n\r\nexport const prepareEvents = (events = []) => {\r\n\t// Combierte fecha en string a fecha en objeto\r\n\treturn events.map((e) => ({\r\n\t\t...e,\r\n\t\tend: moment(e.end).toDate(),\r\n\t\tstart: moment(e.start).toDate()\r\n\t}));\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport { prepareEvents } from \"../helpers/prepareEvents\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const eventStartAddNew = (event) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { uid, name } = getState().auth;\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(\"events\", event, \"POST\");\r\n\t\t\tconst body = await resp.json();\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tevent.id = body.evento.id;\r\n\t\t\t\tevent.user = {\r\n\t\t\t\t\t_id: uid,\r\n\t\t\t\t\tname\r\n\t\t\t\t};\r\n\t\t\t\tdispatch(eventAddNew(event));\r\n\t\t\t}\r\n\t\t\t// TODO: Hacer el caso de falla\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventAddNew = (event) => ({\r\n\ttype: types.eventAddNew,\r\n\tpayload: event\r\n});\r\n\r\nexport const eventSetActive = (event) => {\r\n\tdelete event.bgcolor;\r\n\treturn {\r\n\t\ttype: types.eventSetActive,\r\n\t\tpayload: event\r\n\t};\r\n};\r\n\r\nexport const eventClearActiveEvent = () => ({\r\n\ttype: types.eventClearActiveEvent\r\n});\r\n\r\nexport const eventStartUpdate = (event) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(`events/${event.id}`, event, \"PUT\");\r\n\t\t\tconst body = await resp.json();\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tdispatch(eventUpdated(event));\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventUpdated = (event) => ({\r\n\ttype: types.eventUpdated,\r\n\tpayload: event\r\n});\r\n\r\nexport const eventStartDelete = () => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { id } = getState().calendar.activeEvent;\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(`events/${id}`, {}, \"DELETE\");\r\n\t\t\tconst body = await resp.json();\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tdispatch(enventDeleted());\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst enventDeleted = () => ({ type: types.eventDeleted });\r\n\r\nexport const eventStartLoading = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(\"events\");\r\n\t\t\tconst body = await resp.json();\r\n\t\t\tconst events = prepareEvents(body.eventos);\r\n\t\t\tdispatch(eventLoaded(events));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventLoaded = (events) => ({ type: types.eventLoaded, payload: events });\r\n\r\nexport const eventLogout = () => ({ type: types.eventLogout });\r\n","import { fetchConToken, fetchSinToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\nimport Swal from \"sweetalert2\";\r\nimport { eventLogout } from \"./events\";\r\nexport const startLogin = (email, password) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchSinToken(\"auth\", { email, password }, \"POST\");\r\n\t\tconst body = await resp.json();\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem(\"token\", body.token);\r\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startRegister = (email, password, name) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchSinToken(\r\n\t\t\t\"auth/new\",\r\n\t\t\t{ name, email, password },\r\n\t\t\t\"POST\"\r\n\t\t);\r\n\t\tconst body = await resp.json();\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem(\"token\", body.token);\r\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startCheckling = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchConToken(\"auth/renew\");\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem(\"token\", body.token);\r\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tdispatch(checkingFininsh());\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst checkingFininsh = () => ({ type: types.authCheckingFinish });\r\n\r\nconst login = (user) => ({\r\n\ttype: types.authLogin,\r\n\tpayload: user\r\n});\r\n\r\nexport const startLogout = () => {\r\n\treturn (dispatch) => {\r\n\t\tlocalStorage.clear();\r\n\t\tdispatch(eventLogout());\r\n\t\tdispatch(logout());\r\n\t};\r\n};\r\n\r\nconst logout = () => ({ type: types.authLogout });\r\n","import { useState } from \"react\";\r\n\r\nexport const useForm = (initialState = {}) => {\r\n\tconst [values, setValues] = useState(initialState);\r\n\r\n\tconst reset = () => {\r\n\t\tsetValues(initialState);\r\n\t};\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetValues({\r\n\t\t\t...values,\r\n\t\t\t[target.name]: target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn [values, handleInputChange, reset];\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { startLogin, startRegister } from \"../../actions/auth\";\r\n\r\nimport \"./login.css\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const LoginScreen = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [formLoginValues, handleLoginInputChange] = useForm({\r\n\t\tlEmail: \"eduardo@yahoo.com\",\r\n\t\tlPassword: \"123456\"\r\n\t});\r\n\r\n\tconst [formRegisterValues, handleRegisterInputChange] = useForm({\r\n\t\trName: \"Nando\",\r\n\t\trEmail: \"nando@gmail.com\",\r\n\t\trPassword1: \"123456\",\r\n\t\trPassword2: \"123456\"\r\n\t});\r\n\r\n\tconst { lEmail, lPassword } = formLoginValues;\r\n\tconst { rName, rEmail, rPassword1, rPassword2 } = formRegisterValues;\r\n\r\n\tconst handleLogin = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(startLogin(lEmail, lPassword));\r\n\t};\r\n\r\n\tconst handleRegister = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (rPassword1 !== rPassword2) {\r\n\t\t\treturn Swal.fire(\r\n\t\t\t\t\"Error\",\r\n\t\t\t\t\"Las contraseñas deben de ser iguales\",\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t}\r\n\t\tdispatch(startRegister(rEmail, rPassword1, rName));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"container login-container\">\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6 login-form-1\">\r\n\t\t\t\t\t<h3>Ingreso</h3>\r\n\t\t\t\t\t<form onSubmit={handleLogin}>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\r\n\t\t\t\t\t\t\t\tname=\"lEmail\"\r\n\t\t\t\t\t\t\t\tvalue={lEmail}\r\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\r\n\t\t\t\t\t\t\t\tname=\"lPassword\"\r\n\t\t\t\t\t\t\t\tvalue={lPassword}\r\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-md-6 login-form-2\">\r\n\t\t\t\t\t<h3>Registro</h3>\r\n\t\t\t\t\t<form onSubmit={handleRegister}>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\r\n\t\t\t\t\t\t\t\tname=\"rName\"\r\n\t\t\t\t\t\t\t\tvalue={rName}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\r\n\t\t\t\t\t\t\t\tname=\"rEmail\"\r\n\t\t\t\t\t\t\t\tvalue={rEmail}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\r\n\t\t\t\t\t\t\t\tname=\"rPassword1\"\r\n\t\t\t\t\t\t\t\tvalue={rPassword1}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Repita la contraseña\"\r\n\t\t\t\t\t\t\t\tname=\"rPassword2\"\r\n\t\t\t\t\t\t\t\tvalue={rPassword2}\r\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","export const messages = {\r\n\tallDay: \"Todo el día\",\r\n\tprevious: \"<\",\r\n\tnext: \">\",\r\n\ttoday: \"Hoy\",\r\n\tmonth: \"Mes\",\r\n\tweek: \"Semana\",\r\n\tday: \"Día\",\r\n\tagenda: \"Agenda\",\r\n\tdate: \"Fecha\",\r\n\ttime: \"Hora\",\r\n\tevent: \"Evento\",\r\n\tnoEventsInRange: \"No hay eventos en este rango\",\r\n\tshowMore: (total) => `+ Ver más (${total})`\r\n};\r\n","import React from \"react\";\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n\tconst { title, user } = event;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<strong>{title}</strong>\r\n\t\t\t<span>- {user.name}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startLogout } from \"../../actions/auth\";\r\n\r\nexport const NavBar = () => {\r\n\tconst { name } = useSelector((state) => state.auth);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(startLogout());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"navbar navbar-dark bg-dark mb-4\">\r\n\t\t\t<span className=\"navbar-brand\">{name}</span>\r\n\r\n\t\t\t<button className=\"btn btn-outline-danger\" onClick={handleLogout}>\r\n\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\r\n\t\t\t\t<span> Salir</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nexport const uiOpenModal = () => ({ type: types.uiOpenModal });\r\n\r\nexport const uiCloseModal = () => ({ type: types.uiCloseModal });\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport moment from \"moment\";\r\n\r\nimport Swal from \"sweetalert2\";\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport {\r\n\teventClearActiveEvent,\r\n\teventStartAddNew,\r\n\teventStartUpdate\r\n} from \"../../actions/events\";\r\n\r\nconst customStyles = {\r\n\tcontent: {\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tright: \"auto\",\r\n\t\tbottom: \"auto\",\r\n\t\tmarginRight: \"-50%\",\r\n\t\ttransform: \"translate(-50%, -50%)\"\r\n\t}\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst nowPlus1 = now.clone().add(1, \"hours\");\r\n\r\nconst initEvent = {\r\n\ttitle: \"\",\r\n\tnotes: \"\",\r\n\tstart: now.toDate(),\r\n\tend: nowPlus1.toDate()\r\n};\r\n\r\nexport const CalendarModal = () => {\r\n\tconst { modalOpen } = useSelector((state) => state.ui);\r\n\tconst { activeEvent } = useSelector((state) => state.calendar);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [dateStart, setDateStart] = useState(now.toDate());\r\n\tconst [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\r\n\tconst [titleValid, setTitleValid] = useState(true);\r\n\r\n\tconst [formValues, setFormValues] = useState(initEvent);\r\n\r\n\tconst { notes, title, start, end } = formValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (activeEvent) {\r\n\t\t\tsetFormValues(activeEvent);\r\n\t\t} else {\r\n\t\t\tsetFormValues(initEvent);\r\n\t\t}\r\n\t}, [activeEvent, setFormValues]);\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\t// Se lo pone en llaves cuaddas para obtener el valor de esa propiedad\r\n\t\t\t[target.name]: target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst closeModal = () => {\r\n\t\tdispatch(uiCloseModal());\r\n\t\tdispatch(eventClearActiveEvent());\r\n\t\tsetFormValues(initEvent);\r\n\t};\r\n\r\n\tconst handleStartDateChange = (e) => {\r\n\t\tsetDateStart(e);\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\tstart: e\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleEndDateChange = (e) => {\r\n\t\tsetDateEnd(e);\r\n\t\tsetFormValues({\r\n\t\t\t...formValues,\r\n\t\t\tend: e\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmitForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst momentStart = moment(start);\r\n\t\tconst momentEnd = moment(end);\r\n\t\tif (momentStart.isSameOrAfter(momentEnd)) {\r\n\t\t\tconsole.log(\"Fecha 2 debe de ser mayor\");\r\n\t\t\tSwal.fire(\r\n\t\t\t\t\"Error\",\r\n\t\t\t\t\"La fecha de fin debe ser mayor a la fecha de inicio\",\r\n\t\t\t\t\"error\"\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (title.trim().length < 2) {\r\n\t\t\treturn setTitleValid(false);\r\n\t\t}\r\n\r\n\t\t// TODO: realizar grabacion\r\n\t\tif (activeEvent) {\r\n\t\t\tdispatch(eventStartUpdate(formValues));\r\n\t\t} else {\r\n\t\t\tdispatch(eventStartAddNew(formValues));\r\n\t\t}\r\n\t\tsetTitleValid(true);\r\n\t\tcloseModal();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tisOpen={modalOpen}\r\n\t\t\t// onAfterOpen={afterOpenModal}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\tstyle={customStyles}\r\n\t\t\tcloseTimeoutMS={200}\r\n\t\t\tclassName=\"modal\"\r\n\t\t\toverlayClassName=\"modal-fondo\"\r\n\t\t>\r\n\t\t\t<h1> {activeEvent ? \"Editar evento\" : \"Nuevo evento\"} </h1>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"container\" onSubmit={handleSubmitForm}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora inicio</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleStartDateChange}\r\n\t\t\t\t\t\tvalue={dateStart}\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora fin</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleEndDateChange}\r\n\t\t\t\t\t\tvalue={dateEnd}\r\n\t\t\t\t\t\tminDate={dateStart}\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Titulo y notas</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName={`form-control ${!titleValid && \"is-invalid\"}`}\r\n\t\t\t\t\t\tplaceholder=\"Título del evento\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\r\n\t\t\t\t\t\tUna descripción corta\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Notas\"\r\n\t\t\t\t\t\trows=\"5\"\r\n\t\t\t\t\t\tname=\"notes\"\r\n\t\t\t\t\t\tvalue={notes}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\r\n\t\t\t\t\t\tInformación adicional\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n\t\t\t\t\t<i className=\"far fa-save\"></i>\r\n\t\t\t\t\t<span> Guardar</span>\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n","// El FAB es de form action button creo\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { uiOpenModal } from \"../../actions/ui\";\r\n\r\nexport const AddNewFab = ({ onClick }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleClickView = () => {\r\n\t\tdispatch(uiOpenModal());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<button onClick={handleClickView} className=\"·btn btn-primary fab\">\r\n\t\t\t<i className=\"fas fa-plus\"></i>\r\n\t\t</button>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { eventStartDelete } from \"../../actions/events\";\r\n\r\nexport const DeleteEventFab = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleDelete = () => {\r\n\t\tdispatch(eventStartDelete());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<button onClick={handleDelete} className=\"btn btn-danger fab-danger\">\r\n\t\t\t<i className=\"fas fa-trash\"></i>\r\n\t\t\t<span> Borrar evento</span>\r\n\t\t</button>\r\n\t);\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport { messages } from \"../../helpers/calendar-messages-es\";\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\n\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nimport { NavBar } from \"../ui/NavBar\";\r\nimport { CalendarModal } from \"./CalendarModal\";\r\nimport { uiOpenModal } from \"../../actions/ui\";\r\nimport {\r\n\teventClearActiveEvent,\r\n\teventSetActive,\r\n\teventStartLoading\r\n} from \"../../actions/events\";\r\nimport { AddNewFab } from \"../ui/AddNewFab\";\r\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\r\n\r\nmoment.locale(\"es\");\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nexport const CalendarScreen = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { events, activeEvent } = useSelector((state) => state.calendar);\r\n\tconst { uid } = useSelector((state) => state.auth);\r\n\r\n\tconst [lastView, setLastView] = useState(\r\n\t\tlocalStorage.getItem(\"lastView\") || \"month\"\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(eventStartLoading());\r\n\t}, [dispatch]);\r\n\r\n\tconst onDoubleClick = (e) => {\r\n\t\t// console.log(e);\r\n\t\tdispatch(uiOpenModal());\r\n\t};\r\n\r\n\tconst onSelectEvent = (e) => {\r\n\t\tdispatch(eventSetActive(e));\r\n\t};\r\n\r\n\tconst onViewChange = (e) => {\r\n\t\tsetLastView(e);\r\n\t\tlocalStorage.setItem(\"lastView\", e);\r\n\t};\r\n\r\n\tconst onSelectSlot = (e) => {\r\n\t\t// console.log(e);\r\n\t\tdispatch(eventClearActiveEvent());\r\n\t};\r\n\r\n\tconst eventStyleGetter = (event, start, end, isSelected) => {\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: uid === event.user._id ? \"#367CF7\" : \"#465660\",\r\n\t\t\tborderRadius: \"0px\",\r\n\t\t\topacity: 0.8,\r\n\t\t\tdisplay: \"block\",\r\n\t\t\tcolor: \"white\"\r\n\t\t};\r\n\t\treturn { style };\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"calendar-screen\">\r\n\t\t\t<NavBar />\r\n\r\n\t\t\t<Calendar\r\n\t\t\t\tlocalizer={localizer}\r\n\t\t\t\tevents={events}\r\n\t\t\t\tstartAccessor=\"start\"\r\n\t\t\t\tendAccessor=\"end\"\r\n\t\t\t\tmessages={messages}\r\n\t\t\t\teventPropGetter={eventStyleGetter}\r\n\t\t\t\tonDoubleClickEvent={onDoubleClick}\r\n\t\t\t\tonSelectEvent={onSelectEvent}\r\n\t\t\t\tonView={onViewChange}\r\n\t\t\t\tonSelectSlot={onSelectSlot}\r\n\t\t\t\tselectable={true}\r\n\t\t\t\tview={lastView}\r\n\t\t\t\tcomponents={{\r\n\t\t\t\t\tevent: CalendarEvent\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<AddNewFab />\r\n\t\t\t{activeEvent && <DeleteEventFab />}\r\n\r\n\t\t\t<CalendarModal />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const PrivateRoute = ({\r\n\tisAutenticated,\r\n\tcomponent: Component,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\tisAutenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n\tisAutenticated: PropTypes.bool.isRequired,\r\n\tcomponent: PropTypes.func.isRequired\r\n};\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const PublicRoute = ({\r\n\tisAutenticated,\r\n\tcomponent: Component,\r\n\t...rest\r\n}) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) =>\r\n\t\t\t\tisAutenticated ? <Redirect to=\"/\" /> : <Component {...props} />\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nPublicRoute.propTypes = {\r\n\tisAutenticated: PropTypes.bool.isRequired,\r\n\tcomponent: PropTypes.func.isRequired\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport { startCheckling } from \"../actions/auth\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\n\r\nexport const AppRouter = () => {\r\n\t// TODO: Para que no se pierda el logeuo puedes poner que se haga renew cada vez que recarga la pag y  un setInterval por si no recraga la pag en mucho tiempo\r\n\tconst dispatch = useDispatch();\r\n\tconst { checking, uid } = useSelector((state) => state.auth);\r\n\tconsole.log(checking);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(startCheckling());\r\n\t}, [dispatch]);\r\n\r\n\tif (checking) {\r\n\t\t// TODO: Crear componente personalizado lindo de espere\r\n\t\treturn <h5>Espere...</h5>;\r\n\t}\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<div>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<PublicRoute\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t\tpath=\"/login\"\r\n\t\t\t\t\t\tcomponent={LoginScreen}\r\n\t\t\t\t\t\tisAutenticated={!!uid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PrivateRoute\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\tcomponent={CalendarScreen}\r\n\t\t\t\t\t\tisAutenticated={!!uid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</Router>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { store } from \"./store/store\";\r\nimport { AppRouter } from \"./router/AppRouter\";\r\n\r\nexport const CalendarApp = () => {\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<AppRouter />\r\n\t\t</Provider>\r\n\t);\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CalendarApp } from \"./CalendarApp\";\nimport \"./styles.css\";\n\nReactDOM.render(<CalendarApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}